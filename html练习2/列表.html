<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>列表</title>
</head>

<body>
    <script>
        function List() {
            this.listSize = 0;
            this.pos = 0;
            this.dataStore = []; //初始化一个空数组来保存列表元素
            this.clear = clear;
            this.find = find;
            this.toString = toString;
            this.insert = insert;
            this.append = append;
            this.remove = remove;
            this.front = front;
            this.end = end;
            this.prev = prev;
            this.next = next;
            this.length = length;
            this.currPos = currPos;
            this.moveTo = moveTo;
            this.getElement = getElement;
            this.contains = contains;
        }
        // 给列表元素添加元素  方法 append
        function append(element) {
            this.dataStore[this.listSize++] = element;
            // this.dataStore.push(element);
        }
        // 从列表中删除元素  方法 remove
        //辅助函数 find()
        function find(element) {
            for (var i = 0; i < this.dataStore.length; i++) {
                if (this.dataStore[i] == element) {
                    return i
                }
            }
            return -1;
        }

        function remove(element) {
            var foundAt = this.find(element);
            if (foundAt > -1) {
                this.dataStore.splice(foundAt, 1);
                --this.listSize;
                return true;
            }
            return false;
        }
        // 查看列表有多少个元素  方法 length
        function length() {
            return this.listSize;
        }
        // 显示列表中的元素 方法 toString 返回值 数组
        function toString() {
            return this.dataStore
        }
        // 向列表中插入一个元素
        function insert(element, after) {
            var insertPos = this.find(after);
            if (insertPos > -1) {
                this.dataStore.splice(insertPos + 1, 0, element);
                ++this.listSize;
                return true;
            }
            return false;
        }
        // 清空列表中所有的元素 clear
        function clear() {
            delete this.dataStore;
            this.dataStore = [];
            this.listSize = this.Pos = 0;
        }

        // 判断给定值是否在列表中 contains
        function contains(element) {
            for (var i = 0; i < this.dataStore.length; ++i) {
                if (this.dataStore[i] == element) {
                    return true;
                }
            }
            return false;
        }
        //列表查询方法   front end prev next moveTo getElement
        function front() {
            this.pos = 0;
        }

        function end() {
            this.pos = this.listSize - 1;
        }

        function prev() {
            if (this.pos > 0) {
                --this.pos;
            }
        }

        function next() {
            if (this.pos < this.listSize - 1) {
                ++this.pos;
            }
        }

        function currPos() {
            return this.pos;
        }

        function moveTo(position) {
            this.pos = position;
        }

        function getElement() {
            return this.dataStore[this.pos];
        }




        // 测试 1
        var names = new List()

        names.append('Cynthia')
        names.append('Raymond')
        names.append('Barbara')
        console.log(names.toString())
        names.remove('Raymond')
        console.log(names.toString())

        // 测试 2
        names.append('Clayton')
        names.append('Jennifer')
        names.append('Bryan')
        names.append('Danny')

        console.log(names.getElement())

        // 向前移动一个
        // names.next()
        console.log(names.getElement())

        // 测试4 使用迭代器遍历查询列表
        // names.next()
        // names.prev()
        // names.prev()
        console.log(names)
            // for (names.front(); names.currPos() < names.listSize; names.next()) {
            //     console.log('测试4' + names.getElement())
            // }
    </script>
</body>

</html>