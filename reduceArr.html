<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    const getAllDescendantIds = (state, nodeId) => (
      state[nodeId].childIds.reduce((acc, childId) => (
        [ ...acc, childId, ...getAllDescendantIds(state, childId) ]
      ), [])
    )

    // const obj1 ={ 
    //   aa: { 
    //     name:"aa",
    //     childIds: ["bb","cc"]
    //   },
    //   bb: { 
    //     name:"bb",
    //     childIds: []
    //   },
    //   cc: { 
    //     name:"cc",
    //     childIds: []
    //   },
    // } 

    // var result = getAllDescendantIds(obj1,"aa")
    // console.log(result)

function generateTree() {
  let tree = {
    0: {
      id: 0,
      counter: 0,
      childIds: []
    }
  }

  for (let i = 1; i < 10; i++) {
    let parentId = Math.floor(Math.pow(Math.random(), 2) * i)
    tree[i] = {
      id: i,
      counter: 0,
      childIds: []
    }
    tree[parentId].childIds.push(i)
  }

  return tree
}

console.log(generateTree())

var testArr = generateTree()

console.log(getAllDescendantIds(testArr,0))


var reduceArr = [1,3,5,7,9];
var aabb = reduceArr.reduce((acc, childId) => (
        [ ...acc, childId ]
      ), []);

      console.log("aabb",aabb);
      
  </script>
</body>
</html>